{"ast":null,"code":"import fetchToken from '../services/Api';\n\nconst requestToken = () => ({\n  type: 'REQUEST_TOKEN'\n});\n\nconst getToken = token => ({\n  type: 'GET_TOKEN',\n  token\n});\n\nconst failToGetToken = error => ({\n  type: 'FAIL_TO_GET_TOKEN',\n  token: error\n});\n\nfunction fetchApi() {\n  return dispatch => {\n    dispatch(requestToken());\n    fetchToken().then(_ref => {\n      let {\n        token\n      } = _ref;\n      localStorage.setItem('token', token);\n      return dispatch(getToken(token));\n    }).catch(error => dispatch(failToGetToken(error)));\n  };\n}\n\nexport default fetchApi;","map":{"version":3,"sources":["/home/humberto/Projetos/sd-016-a-project-trivia-react-redux/src/actions/Index.js"],"names":["fetchToken","requestToken","type","getToken","token","failToGetToken","error","fetchApi","dispatch","then","localStorage","setItem","catch"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,iBAAvB;;AAEA,MAAMC,YAAY,GAAG,OAAO;AAC1BC,EAAAA,IAAI,EAAE;AADoB,CAAP,CAArB;;AAIA,MAAMC,QAAQ,GAAIC,KAAD,KAAY;AAC3BF,EAAAA,IAAI,EAAE,WADqB;AAE3BE,EAAAA;AAF2B,CAAZ,CAAjB;;AAKA,MAAMC,cAAc,GAAIC,KAAD,KAAY;AACjCJ,EAAAA,IAAI,EAAE,mBAD2B;AAEjCE,EAAAA,KAAK,EAAEE;AAF0B,CAAZ,CAAvB;;AAKA,SAASC,QAAT,GAAoB;AAClB,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACP,YAAY,EAAb,CAAR;AACAD,IAAAA,UAAU,GACPS,IADH,CACQ,QAAe;AAAA,UAAd;AAAEL,QAAAA;AAAF,OAAc;AACnBM,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,KAA9B;AACA,aAAOI,QAAQ,CAACL,QAAQ,CAACC,KAAD,CAAT,CAAf;AACD,KAJH,EAKGQ,KALH,CAKUN,KAAD,IAAWE,QAAQ,CAACH,cAAc,CAACC,KAAD,CAAf,CAL5B;AAMD,GARD;AASD;;AAED,eAAeC,QAAf","sourcesContent":["import fetchToken from '../services/Api';\n\nconst requestToken = () => ({\n  type: 'REQUEST_TOKEN',\n});\n\nconst getToken = (token) => ({\n  type: 'GET_TOKEN',\n  token,\n});\n\nconst failToGetToken = (error) => ({\n  type: 'FAIL_TO_GET_TOKEN',\n  token: error,\n});\n\nfunction fetchApi() {\n  return (dispatch) => {\n    dispatch(requestToken());\n    fetchToken()\n      .then(({ token }) => {\n        localStorage.setItem('token', token);\n        return dispatch(getToken(token));\n      })\n      .catch((error) => dispatch(failToGetToken(error)));\n  };\n}\n\nexport default fetchApi;\n"]},"metadata":{},"sourceType":"module"}