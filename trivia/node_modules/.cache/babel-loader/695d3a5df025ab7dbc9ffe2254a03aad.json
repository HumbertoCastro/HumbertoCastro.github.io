{"ast":null,"code":"var _jsxFileName = \"/home/humberto/Projetos/sd-016-a-project-trivia-react-redux/src/pages/Login.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { SaveData, fetchApi } from '../actions/Index';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const {\n        value,\n        type\n      } = e.target;\n\n      if (type === 'text') {\n        this.setState({\n          name: value\n        }, () => {\n          this.ValidateTest();\n        });\n      } else {\n        this.setState({\n          email: value\n        }, () => {\n          this.ValidateTest();\n        });\n      }\n    };\n\n    this.ValidateTest = () => {\n      const {\n        email,\n        name\n      } = this.state;\n      const minLength = 1;\n      const re = /\\S+@\\S+\\.\\S+/; // refer = https://www.horadecodar.com.br/2020/09/07/expressao-regular-para-validar-e-mail-javascript-regex/\n\n      if (name.length >= minLength && re.test(email)) {\n        this.setState({\n          isButtonDisabled: false\n        });\n      } else {\n        this.setState({\n          isButtonDisabled: true\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit() {\n    const {\n      getToken,\n      history,\n      storegeData\n    } = this.props;\n    const {\n      email,\n      name\n    } = this.state;\n    const data = {\n      email,\n      name\n    };\n    storegeData(data);\n    getToken().then(() => history.push('/trivia'));\n  }\n\n  render() {\n    const {\n      email,\n      name,\n      isButtonDisabled\n    } = this.state;\n    const {\n      history\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"page-login\",\n      className: \"login-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      \"data-testid\": \"input-gravatar-email\",\n      name: \"email\",\n      value: email,\n      onChange: this.handleChange,\n      className: \"forms-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, \"Player Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"input-player-name\",\n      name: \"text\",\n      value: name,\n      className: \"forms-input\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": \"btn-play\",\n      type: \"button\",\n      disabled: isButtonDisabled,\n      onClick: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, \"JOGAR!\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-settings\",\n      onClick: () => {\n        history.push('/settings');\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"Configura\\xE7oes\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  getToken: () => dispatch(fetchApi()),\n  storegeData: data => dispatch(SaveData(data))\n});\n\nconst mapStateToProps = state => ({\n  tokenFetched: state.token.token\n});\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired,\n  getToken: PropTypes.func.isRequired,\n  storegeData: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/humberto/Projetos/sd-016-a-project-trivia-react-redux/src/pages/Login.js"],"names":["React","PropTypes","connect","SaveData","fetchApi","Login","Component","constructor","handleChange","e","value","type","target","setState","name","ValidateTest","email","state","minLength","re","length","test","isButtonDisabled","bind","submit","getToken","history","storegeData","props","data","then","push","render","mapDispatchToProps","dispatch","mapStateToProps","tokenFetched","token","propTypes","shape","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,kBAAnC;;AAEA,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,YAXc,GAWEC,CAAD,IAAO;AACpB,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAkBF,CAAC,CAACG,MAA1B;;AACA,UAAID,IAAI,KAAK,MAAb,EAAqB;AACnB,aAAKE,QAAL,CAAc;AAAEC,UAAAA,IAAI,EAAEJ;AAAR,SAAd,EAA+B,MAAM;AACnC,eAAKK,YAAL;AACD,SAFD;AAGD,OAJD,MAIO;AACL,aAAKF,QAAL,CAAc;AAAEG,UAAAA,KAAK,EAAEN;AAAT,SAAd,EAAgC,MAAM;AACpC,eAAKK,YAAL;AACD,SAFD;AAGD;AACF,KAtBa;;AAAA,SAwBdA,YAxBc,GAwBC,MAAM;AACnB,YAAM;AAAEC,QAAAA,KAAF;AAASF,QAAAA;AAAT,UAAkB,KAAKG,KAA7B;AACA,YAAMC,SAAS,GAAG,CAAlB;AACA,YAAMC,EAAE,GAAG,cAAX,CAHmB,CAInB;;AACA,UAAIL,IAAI,CAACM,MAAL,IAAeF,SAAf,IAA4BC,EAAE,CAACE,IAAH,CAAQL,KAAR,CAAhC,EAAgD;AAC9C,aAAKH,QAAL,CAAc;AAAES,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACD,OAFD,MAEO;AACL,aAAKT,QAAL,CAAc;AAAES,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACD;AACF,KAlCa;;AAEZ,SAAKL,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,EADI;AAEXF,MAAAA,IAAI,EAAE,EAFK;AAGXQ,MAAAA,gBAAgB,EAAE;AAHP,KAAb;AAKA,SAAKd,YAAL,GAAoB,KAAKA,YAAL,CAAkBe,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AA2BDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,OAAZ;AAAqBC,MAAAA;AAArB,QAAqC,KAAKC,KAAhD;AACA,UAAM;AAAEZ,MAAAA,KAAF;AAASF,MAAAA;AAAT,QAAkB,KAAKG,KAA7B;AACA,UAAMY,IAAI,GAAG;AACXb,MAAAA,KADW;AAEXF,MAAAA;AAFW,KAAb;AAIAa,IAAAA,WAAW,CAACE,IAAD,CAAX;AACAJ,IAAAA,QAAQ,GAAGK,IAAX,CAAgB,MAAMJ,OAAO,CAACK,IAAR,CAAa,SAAb,CAAtB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEhB,MAAAA,KAAF;AAASF,MAAAA,IAAT;AAAeQ,MAAAA;AAAf,QAAoC,KAAKL,KAA/C;AACA,UAAM;AAAES,MAAAA;AAAF,QAAc,KAAKE,KAAzB;AAEA,wBACE;AAAK,qBAAY,YAAjB;AAA8B,MAAA,SAAS,EAAC,iBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,qBAAY,sBAFd;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,KAAK,EAAGZ,KAJV;AAKE,MAAA,QAAQ,EAAG,KAAKR,YALlB;AAME,MAAA,SAAS,EAAC,aANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVF,eAWE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,qBAAY,mBAFd;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,KAAK,EAAGM,IAJV;AAKE,MAAA,SAAS,EAAC,aALZ;AAME,MAAA,QAAQ,EAAG,KAAKN,YANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAmBE;AACE,qBAAY,UADd;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,QAAQ,EAAGc,gBAHb;AAIE,MAAA,OAAO,EAAG,KAAKE,MAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBF,eA2BE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,qBAAY,cAFd;AAGE,MAAA,OAAO,EAAG,MAAM;AACdE,QAAAA,OAAO,CAACK,IAAR,CAAa,WAAb;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA3BF,CADF,CADF;AAyCD;;AA7FiC;;AAgGpC,MAAME,kBAAkB,GAAIC,QAAD,KAAe;AACxCT,EAAAA,QAAQ,EAAE,MAAMS,QAAQ,CAAC9B,QAAQ,EAAT,CADgB;AAExCuB,EAAAA,WAAW,EAAGE,IAAD,IAAUK,QAAQ,CAAC/B,QAAQ,CAAC0B,IAAD,CAAT;AAFS,CAAf,CAA3B;;AAKA,MAAMM,eAAe,GAAIlB,KAAD,KAAY;AAClCmB,EAAAA,YAAY,EAAEnB,KAAK,CAACoB,KAAN,CAAYA;AADQ,CAAZ,CAAxB;;AAIAhC,KAAK,CAACiC,SAAN,GAAkB;AAChBZ,EAAAA,OAAO,EAAEzB,SAAS,CAACsC,KAAV,CAAgB;AACvBR,IAAAA,IAAI,EAAE9B,SAAS,CAACuC;AADO,GAAhB,EAENC,UAHa;AAIhBhB,EAAAA,QAAQ,EAAExB,SAAS,CAACuC,IAAV,CAAeC,UAJT;AAKhBd,EAAAA,WAAW,EAAE1B,SAAS,CAACuC,IAAV,CAAeC;AALZ,CAAlB;AAQA,eAAevC,OAAO,CAACiC,eAAD,EAAkBF,kBAAlB,CAAP,CAA6C5B,KAA7C,CAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { SaveData, fetchApi } from '../actions/Index';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  handleChange = (e) => {\n    const { value, type } = e.target;\n    if (type === 'text') {\n      this.setState({ name: value }, () => {\n        this.ValidateTest();\n      });\n    } else {\n      this.setState({ email: value }, () => {\n        this.ValidateTest();\n      });\n    }\n  };\n\n  ValidateTest = () => {\n    const { email, name } = this.state;\n    const minLength = 1;\n    const re = /\\S+@\\S+\\.\\S+/;\n    // refer = https://www.horadecodar.com.br/2020/09/07/expressao-regular-para-validar-e-mail-javascript-regex/\n    if (name.length >= minLength && re.test(email)) {\n      this.setState({ isButtonDisabled: false });\n    } else {\n      this.setState({ isButtonDisabled: true });\n    }\n  };\n\n  submit() {\n    const { getToken, history, storegeData } = this.props;\n    const { email, name } = this.state;\n    const data = {\n      email,\n      name,\n    };\n    storegeData(data);\n    getToken().then(() => history.push('/trivia'));\n  }\n\n  render() {\n    const { email, name, isButtonDisabled } = this.state;\n    const { history } = this.props;\n\n    return (\n      <div data-testid=\"page-login\" className=\"login-container\">\n        <form>\n          <h1>Email:</h1>\n          <input\n            type=\"email\"\n            data-testid=\"input-gravatar-email\"\n            name=\"email\"\n            value={ email }\n            onChange={ this.handleChange }\n            className=\"forms-input\"\n          />\n          <h2>Player Name:</h2>\n          <input\n            type=\"text\"\n            data-testid=\"input-player-name\"\n            name=\"text\"\n            value={ name }\n            className=\"forms-input\"\n            onChange={ this.handleChange }\n          />\n          <button\n            data-testid=\"btn-play\"\n            type=\"button\"\n            disabled={ isButtonDisabled }\n            onClick={ this.submit }\n          >\n            JOGAR!\n          </button>\n          <button\n            type=\"button\"\n            data-testid=\"btn-settings\"\n            onClick={ () => {\n              history.push('/settings');\n            } }\n          >\n            Configuraçoes\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  getToken: () => dispatch(fetchApi()),\n  storegeData: (data) => dispatch(SaveData(data)),\n});\n\nconst mapStateToProps = (state) => ({\n  tokenFetched: state.token.token,\n});\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  getToken: PropTypes.func.isRequired,\n  storegeData: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}